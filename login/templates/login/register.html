{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro - IntelliTutor UNAM</title>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- CSS externo -->
    <link rel="stylesheet" href="{% static 'login/css/register.css' %}">
</head>
<body>

<div class="register-container">

    <!-- IZQUIERDA -->
    <div class="register-left">
        <div class="branding-content">

            <div class="logo-container">
                <div class="logo-glow"></div>
                <img src="{% static 'login/img/Escudo-UNAM-white.svg' %}" class="unam-logo">
            </div>

            <h1 class="brand-title">IntelliTutor</h1>
            <p class="brand-subtitle">Plataforma Inteligente UNAM</p>
            <p class="brand-location">FES Cuautitl√°n Campo 4</p>

            <div class="benefits-list">
                <div class="benefit-item">
                    <i class="fas fa-graduation-cap"></i>
                    <span>Acceso educativo</span>
                </div>
                <div class="benefit-item">
                    <i class="fas fa-chart-line"></i>
                    <span>Seguimiento acad√©mico</span>
                </div>
                <div class="benefit-item">
                    <i class="fas fa-users"></i>
                    <span>Colaboraci√≥n docente</span>
                </div>
                <div class="benefit-item">
                    <i class="fas fa-certificate"></i>
                    <span>Certificaciones</span>
                </div>
            </div>

        </div>
    </div>

    <!-- DERECHA -->
    <div class="register-right">
        <div class="register-form-wrapper">

            <a href="{% url 'login:login_view' %}" class="back-button">
                <i class="fas fa-arrow-left"></i> Regresar
            </a>

            <div class="form-container">

                <h2 class="form-title">Crear Cuenta</h2>
                <p class="form-subtitle">Registro institucional UNAM</p>

                {% if messages %}
                    {% for message in messages %}
                        <div class="alert alert-{% if message.tags == 'success' %}success{% else %}error{% endif %}">
                            {% if message.tags == 'success' %}
                                <i class="fas fa-check-circle"></i>
                            {% else %}
                                <i class="fas fa-exclamation-circle"></i>
                            {% endif %}
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}

                <form method="POST" action="{% url 'login:register' %}" class="register-form" id="registerForm">
                    {% csrf_token %}

                    <!-- FILAS -->
                    <div class="form-row">

                        <div class="form-group">
                            <label class="form-label">Nombre</label>
                            <div class="input-group">
                                <i class="fas fa-user input-icon"></i>
                                <input type="text" name="first_name" class="form-control" maxlength="100" pattern="[a-zA-Z√°√©√≠√≥√∫√Å√â√ç√ì√ö√±√ë\s]+" placeholder="Ej: Juan Carlos" value="{{ first_name|default:'' }}" onkeypress="return /[a-zA-Z√°√©√≠√≥√∫√Å√â√ç√ì√ö√±√ë\s]/.test(event.key)" oninput="this.value = this.value.replace(/[^a-zA-Z√°√©√≠√≥√∫√Å√â√ç√ì√ö√±√ë\s]/g, '')">
                            </div>
                            <span class="error-message" id="first_name_error"></span>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Apellidos</label>
                            <div class="input-group">
                                <i class="fas fa-user input-icon"></i>
                                <input type="text" name="last_name" class="form-control" maxlength="70" pattern="[a-zA-Z√°√©√≠√≥√∫√Å√â√ç√ì√ö√±√ë\s]+" placeholder="Ej: P√©rez Garc√≠a" value="{{ last_name|default:'' }}" onkeypress="return /[a-zA-Z√°√©√≠√≥√∫√Å√â√ç√ì√ö√±√ë\s]/.test(event.key)" oninput="this.value = this.value.replace(/[^a-zA-Z√°√©√≠√≥√∫√Å√â√ç√ì√ö√±√ë\s]/g, '')">
                            </div>
                            <span class="error-message" id="last_name_error"></span>
                        </div>

                    </div>

                    <div class="form-row">

                        <div class="form-group">
                            <label class="form-label">Correo</label>
                            <div class="input-group">
                                <i class="fas fa-envelope input-icon"></i>
                                <input type="text" name="email" class="form-control" placeholder="Ej: juan@alumno.fesc.unam.mx" value="{{ email|default:'' }}">
                            </div>
                            <span class="error-message" id="email_error"></span>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Usuario</label>
                            <div class="input-group">
                                <i class="fas fa-at input-icon"></i>
                                <input type="text" name="username" class="form-control" maxlength="50" placeholder="Ej: juanperez2024" value="{{ username|default:'' }}">
                            </div>
                            <span class="error-message" id="username_error"></span>
                        </div>

                    </div>

                    <div class="form-row">

                        <div class="form-group">
                            <label class="form-label">Tel√©fono</label>
                            <div class="input-group">
                                <i class="fas fa-phone input-icon"></i>
                                <input type="tel" name="telefono" class="form-control" placeholder="10 d√≠gitos" maxlength="10" value="{{ telefono|default:'' }}" onkeypress="return /[0-9]/.test(event.key)" oninput="this.value = this.value.replace(/\D/g, '')">
                            </div>
                            <span class="error-message" id="telefono_error"></span>
                        </div>

                    </div>                    

                    <div class="form-row">

                        <div class="form-group">
                            <label class="form-label">Contrase√±a</label>
                            <div class="input-group">
                                <i class="fas fa-lock input-icon"></i>
                                <input type="password" id="password" name="password" class="form-control">
                                <button type="button" class="toggle-password" data-target="password">üëÅ</button>
                            </div>
                            <span class="error-message" id="password_error"></span>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Confirmar</label>
                            <div class="input-group">
                                <i class="fas fa-lock input-icon"></i>
                                <input type="password" id="password_confirm" name="password_confirm" class="form-control">
                                <button type="button" class="toggle-password" data-target="password_confirm">üëÅ</button>
                            </div>
                            <span class="error-message" id="password_confirm_error"></span>
                        </div>

                    </div>

                    <div class="terms-section">
                        <label class="terms-group">
                            <input type="checkbox" id="terms" name="terms">
                            <span class="checkmark"></span>
                            Acepto t√©rminos institucionales
                        </label>
                        
                        <a href="{% static 'login/docs/terminos_y_condiciones_intellitutor.pdf' %}" target="_blank" class="terms-link">
                            <i class="fas fa-file-pdf"></i> Ver t√©rminos y condiciones (PDF)
                        </a>
                    </div>

                    <button type="submit" class="btn-primary" id="submitBtn">
                        Crear cuenta <i class="fas fa-user-plus"></i>
                    </button>

                    <a href="{% url 'login:login_view' %}" class="btn-secondary">Ya tengo cuenta</a>

                </form>

            </div>
        </div>
    </div>

</div>

<script src="{% static 'login/js/register.js' %}"></script>

</body>
</html>